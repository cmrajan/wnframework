/* IndicIME v2.5.1 - http://www.vishalon.net/IndicResources/IndicIME.aspx
PramukhLib v2.5.1 -  http://www.vishalon.net/IndicResources/PramukhLib.aspx
TinyMCE Version 2.x, 3.x
Copyright (c) Vishal Monpara (http://www.vishalon.net)

Permission is hereby granted to any person obtaining a copy of this software and associated the rights to use, copy, modify, merge copies of the Software for personal non-commercial and commercial use only and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

*/
// PramukhLib 2.5.1
var PramukhPhoneticHandler = function(){var t=function(b){if(typeof b=='undefined'){b='devanagari'}else{b=b.toLowerCase()}var c=b;var d={};var e={};var f=0;var g=false;this.halfLetterScript=function(){return g};this.getBase=function(a){return d[a]};this.getMod=function(a){return e[a]};var h=function(){delete d["69"];delete d["79"];delete e["69"];delete e["79"];delete d["7977"];e["9773"]="\u0b56";e["9785"]="\u0b57";d["89"]="\u0b5f";d["126"]="\u0b70";d["118"]=d["98"];d["119"]=d["98"];delete e["8285"];delete e["13126"];delete e["12126"]};var j=function(){g=true;delete e["77126"];delete d["82117"];delete d["8285"];d["69"]="\u0b8f";d["101"]="\u0b8e";d["79"]="\u0b93";d["111"]="\u0b92";d["107104"]=d["107"];d["103"]=d["107"];d["103104"]=d["107"];delete d["67104"];delete d["122"];d["84104"]=d["84"];d["68"]=d["84"];d["68104"]=d["84"];d["78"]="\u0ba3";d["116104"]=d["116"];d["100"]=d["116"];d["100104"]=d["116"];d["7878"]="\u0ba8";d["110"]="\u0ba9";d["102"]="\u0b83\u0baa";d["112104"]=d["112"];d["98"]=d["112"];d["98104"]=d["112"];d["114114"]="\u0bb1";d["7676"]="\u0bb4";d["115104"]="\u0bb7";d["83"]="\u0bb7";delete d["120"];delete d["74104"];delete e["82117"];delete e["8285"];delete e["13126"];delete e["12126"];delete d["13126"];delete d["12126"];e["69"]="\u0bc7";e["101"]="\u0bc6";e["79"]="\u0bcb";e["111"]="\u0bca";delete e["42"];delete d["38"];delete d["7977"];d["4964"]="\u0bf0";d["4938"]="\u0bf1";d["49126"]="\u0bf2";d["48"]="\u0030";d["120"]="\u0b95\u0bcd\u0bb7"};var k=function(){g=true;d["114114"]="\u0c31";delete e["42"];delete d["7977"];delete d["38"];e["126"]="\u0c55";e["9773"]="\u0c56";delete e["13126"];delete e["12126"];d["69"]="\u0c0f";d["101"]="\u0c0e";d["79"]="\u0c13";d["111"]="\u0c12";e["69"]="\u0c47";e["101"]="\u0c46";e["79"]="\u0c4b";e["111"]="\u0c4a"};var l=function(){delete e["77126"];delete d["38"];delete e["58"];delete e["72"];delete d["82117"];delete d["8285"];delete d["13126"];delete d["12126"];delete e["82117"];delete e["8285"];delete e["13126"];delete e["12126"];delete d["69"];delete d["79"];delete d["76"];delete d["83104"];delete e["82117"];delete e["8285"];delete e["69"];delete e["79"];delete d["71121"];d["7977"]="\u0a74";d["114114"]="\u0a5c";e["77126"]="\u0a70";e["78126"]="\u0a71";d["7382"]="\u0a72";d["8582"]="\u0a73"};var m=function(){g=true;delete e["77126"];d["69"]="\u0d0f";d["101"]="\u0d0e";d["79"]="\u0d13";d["111"]="\u0d12";d["114114"]="\u0d31";d["122104"]="\u0d34";delete e["42"];delete d["38"];delete e["8285"];e["69"]="\u0d47";e["101"]="\u0d46";e["79"]="\u0d4b";e["111"]="\u0d4a";e["9785"]="\u0d57";delete e["13126"];delete e["12126"];delete d["7977"]};var n=function(){g=true;delete e["77126"];d["69"]="\u0c8f";d["101"]="\u0c8e";d["79"]="\u0c93";d["111"]="\u0c92";d["82114"]="\u0cb1";delete e["42"];delete d["38"];e["69"]="\u0cc7";e["101"]="\u0cc6";e["79"]="\u0ccb";e["111"]="\u0cca";d["70"]="\u0cde";d["7676"]="\u0cde";delete e["13126"];delete e["12126"];delete d["7977"]};var o=function(){delete d["69"];delete d["79"];d["114114"]="\u09f0";d["118"]="\u09f1";d["119"]="\u09f1";d["116126"]="\u09ce";delete e["69"];delete e["79"];e["9785"]="\u09d7";delete d["7977"];d["126"]="\u09fa";d["76"]=d["108"]};var p=function(){delete d["12126"];delete d["13126"];delete e["12126"];delete e["13126"]};var q=function(){d["69126"]="\u090e";d["79126"]="\u0912";e["69126"]="\u0946";e["79126"]="\u094a";e["36"]="\u0951";e["3636"]="\u0952";e["35"]="\u0953";e["3535"]="\u0954";d["64"]="\u0970"};var r=function(){g=false;var a=1,key,result="";for(key in d){delete d[key]}for(key in e){delete e[key]}e["77126"]="\u0901";e["77"]="\u0902";e["58"]="\u0903";e["72"]="\u0903";d["97"]="\u0905";d["65"]="\u0906";d["9797"]="\u0906";d["105"]="\u0907";d["73"]="\u0908";d["101101"]="\u0908";d["117"]="\u0909";d["85"]="\u090a";d["111111"]="\u090a";d["82117"]="\u090b";d["13126"]="\u090c";d["69"]="\u090d";d["101"]="\u090f";d["97105"]="\u0910";d["79"]="\u0911";d["111"]="\u0913";d["97117"]="\u0914";d["111117"]="\u0914";d["107"]="\u0915";d["107104"]="\u0916";d["103"]="\u0917";d["103104"]="\u0918";d["7871"]="\u0919";d["99104"]="\u091a";d["67104"]="\u091b";d["106"]="\u091c";d["122"]="\u091d";d["7889"]="\u091e";d["84"]="\u091f";d["84104"]="\u0920";d["68"]="\u0921";d["68104"]="\u0922";d["78"]="\u0923";d["116"]="\u0924";d["116104"]="\u0925";d["100"]="\u0926";d["100104"]="\u0927";d["110"]="\u0928";d["112"]="\u092a";d["102"]="\u092b";d["112104"]="\u092b";d["98"]="\u092c";d["98104"]="\u092d";d["109"]="\u092e";d["121"]="\u092f";d["114"]="\u0930";d["82"]="\u0930";d["108"]="\u0932";d["76"]="\u0933";d["118"]="\u0935";d["119"]="\u0935";d["115104"]="\u0936";d["83"]="\u0936";d["83104"]="\u0937";d["115"]="\u0938";d["104"]="\u0939";d["120"]="\u0915\u094d\u0937";d["71121"]="\u091c\u094d\u091e";e["42"]="\u093c";d["38"]="\u093d";e["9797"]="\u093e";e["65"]="\u093e";e["105"]="\u093f";e["73"]="\u0940";e["101101"]="\u0940";e["117"]="\u0941";e["85"]="\u0942";e["111111"]="\u0942";e["82117"]="\u0943";e["8285"]="\u0944";e["69"]="\u0945";e["101"]="\u0947";e["97105"]="\u0948";e["79"]="\u0949";e["111"]="\u094b";e["97117"]="\u094c";e["111117"]="\u094c";e[a]="\u094d";d["7977"]="\u0950";d["8285"]="\u0960";d["12126"]="\u0961";e["13126"]="\u0962";e["12126"]="\u0963";d["48"]="\u0966";d["49"]="\u0967";d["50"]="\u0968";d["51"]="\u0969";d["52"]="\u096a";d["53"]="\u096b";d["54"]="\u096c";d["55"]="\u096d";d["56"]="\u096e";d["57"]="\u096f";var i=0;for(key in d){result="";for(i=0;i<d[key].length;i++){result=result+String.fromCharCode((d[key]).charCodeAt(i)+f)}d[key]=result}for(key in e){result="";for(i=0;i<e[key].length;i++){result=result+String.fromCharCode((e[key]).charCodeAt(i)+f)}e[key]=String.fromCharCode((e[key]).charCodeAt(0)+f)}e["97"]="";d["124"]="\u0964";d["124124"]="\u0965";d["9494"]="\u200c";d["94"]="\u200d"};this.setScript=function(a){c=a.toLowerCase();switch(a.toLowerCase()){case"bengali":f=128;break;case"gujarati":f=384;break;case"devanagari":f=0;break;case"malayalam":f=1024;break;case"gurmukhi":f=256;break;case"telugu":f=768;break;case"kannada":f=896;break;case"tamil":f=640;break;case"oriya":f=512;break}r();switch(a.toLowerCase()){case"gujarati":p();break;case"devanagari":q();break;case"malayalam":m();break;case"gurmukhi":l();break;case"telugu":k();break;case"kannada":n();break;case"bengali":o();break;case"tamil":j();break;case"oriya":h();break}};this.setScript(c)};var u=function(){this.prevkey=32;this.hidden=false;this.isEng=false;this.callbackName="";this.previousConsonant=false;this.previouspreviousConsonant=false;this.specialMode=false;this.language="english";this.isIFrame=false;this.elementObject={};this.displace=0;this.text=""};var v=[];var w=1;var x=navigator,ua=x.userAgent;var y=(/MSIE/gi).test(ua)&&(/Explorer/gi).test(x.appName);var z=/Gecko/.test(ua);var A=123;var B={};var C=[];var D=false;var E="_globalIndicIME";this.setToggleKey=function(a){A=a};this.getScript=function(a){var b=v[a];return(typeof b=='undefined')||b.isEng?"english":b.language};this.setScript=function(a,b){var c=v[a];if(typeof c=='undefined'){return}if(b){b=b.toLowerCase()}if(b&&(b=='bengali'||b=='gujarati'||b=='devanagari'||b=='malayalam'||b=='gurmukhi'||b=='telugu'||b=='kannada'||b=='tamil'||b=='oriya')){c.language=b;if(typeof B[b]=='undefined'){B[b]=new t(b)}c.il=B[b];c.isEng=false}else{c.isEng=true}};this.setGlobalScript=function(a){if(!a){a='english'}if(D){this.setScript(E,a)}else{var i;for(i in v){this.setScript(i,a)}}};this.onScriptChange=function(a,b){if(!b||(typeof b!='function')){throw"PramukhPhoneticHandler.onScriptChange(): Callback function is not valid";}var c=v[a];c.callbackName=b};this.reset=function(a){var b=a;b.prevkey=32;b.hidden=false;b.previousConsonant=false;b.previouspreviousConsonant=false;b.specialMode=false};this.getNext=function(a,b){var c=a;var d=0,text='',keychar='',bComb='',mComb='',base='',mod='',returnValue=false,prevkeychar='';var e=false,tmod=false,tbcomb=false,tmcomb=false,hls=false,pc=false,ppc=false,hdn=false;c.text='';c.displace=0;keychar=String.fromCharCode(b);prevkeychar=String.fromCharCode(c.prevkey);bComb=c.il.getBase(c.prevkey.toString()+b.toString());mComb=c.il.getMod(c.prevkey.toString()+b.toString());base=c.il.getBase(b.toString());mod=c.il.getMod(b.toString());e=(typeof(base)!='undefined');tmod=(typeof(mod)!='undefined');tbcomb=(typeof(bComb)!='undefined');tmcomb=(typeof(mComb)!='undefined');hls=c.il.halfLetterScript();pc=c.previousConsonant;ppc=c.previouspreviousConsonant;hdn=c.hidden;switch(keychar){case"a":case"e":case"i":case"o":case"u":case"A":case"I":case"U":case"O":case"E":case"R":if(pc&&!hdn){if(hls&&keychar!='R'){d--}text=(!tmod)?'':mod;if(prevkeychar=='L'){if(keychar=='u'){b=13}else if(keychar=='U'){b=12}else c.previouspreviousConsonant=pc}else{c.previouspreviousConsonant=pc}c.hidden=(text=='')}else if(tmcomb&&ppc){if(prevkeychar!='a'&&(!hdn||hls)){d--}text=mComb;b=32;c.previouspreviousConsonant=pc;c.hidden=false}else if(tbcomb){if(hls&&prevkeychar=='R'&&(keychar=='u'||keychar=='U')){d--}d--;text=bComb;b=32;c.previouspreviousConsonant=pc;c.hidden=false}else if(e){if(keychar=='R'){if(hls){text=base+c.il.getMod(w)}else{text=(pc&&!hdn?c.il.getMod(w):'')+base}}else{text=base}c.previouspreviousConsonant=pc;c.hidden=false}else{c.previouspreviousConsonant=pc;c.hidden=true}c.previousConsonant=false;break;case'^':if(!pc&&prevkeychar!="^"){keychar=''}else if(tbcomb){d--;text=bComb}else{text=(hls?'':c.il.getMod(w))+base}c.previouspreviousConsonant=pc;c.previousConsonant=false;c.hidden=(text=='');break;case' ':returnValue=true;if(!hls){keychar=''}c.previouspreviousConsonant=pc;c.previousConsonant=false;c.hidden=false;break;case'~':if(c.prevkey==126||c.prevkey==35||c.prevkey==36||c.prevkey==38||c.prevkey==42||c.prevkey==64||c.prevkey==58||c.prevkey==124){if(typeof c.il.getMod(c.prevkey.toString())!='undefined'||typeof c.il.getBase(c.prevkey.toString())!='undefined'){d--;text=prevkeychar}else{text=keychar.toString()}b=32}else if(c.prevkey==94){if(!hdn){d--;if(!hls){d--}}text=prevkeychar;b=32}else if((ppc||c.prevkey==77||c.prevkey==78)&&tmcomb){if(c.prevkey==78&&ppc){d--}else if(c.prevkey==13||c.prevkey==12){d-=2}d--;text=mComb;b=32}else if(tbcomb){if(c.prevkey==13||c.prevkey==12){d--}if(!hdn){d--}text=bComb;b=32}else if(e){text=base}else if(tmod){if(pc&&hls){d--}text=mod}else{text=keychar.toString()}c.previouspreviousConsonant=pc;c.previousConsonant=false;c.hidden=false;break;case':':case'^':case'H':case'|':case'@':case'0':case'1':case'2':case'3':case'4':case'5':case'6':case'7':case'8':case'9':case'&':if(ppc&&tmcomb){d--;text=mComb;b=32}else if(tbcomb){if(!hdn){d--}text=bComb;b=32}else{text=e?base:tmod?mod:(b>=65&&b<=90||b>=97&&b<=122)?'':keychar.toString()}c.previouspreviousConsonant=pc;c.previousConsonant=false;c.hidden=false;break;case'*':if(tmod&&pc&&!hdn){if(hls){d--;text=mod+c.il.getMod(w)}else{text=mod}}else{text=keychar.toString()}c.hidden=false;break;default:c.previouspreviousConsonant=pc;if(tbcomb){if(hls){d=hdn?0:d-2;text=bComb+c.il.getMod(w)}else{d=(!hdn)?d-1:0;text=(hdn&&pc&&ppc?c.il.getMod(w):'')+bComb}c.previousConsonant=true;c.hidden=false}else if(e){if(hls){text=base+c.il.getMod(w)}else{text=(pc&&!hdn?c.il.getMod(w):'')+base}c.previousConsonant=true;c.hidden=hdn?false:hdn}else if(tmcomb){d--;text=mComb;c.hidden=false;c.previousConsonant=false;b=32}else if(tmod){if(pc){d=hdn&&!hls?d-1:0}text=mod;c.hidden=false;c.previousConsonant=false}else if((b>=97&&b<=122)||(b>=65&&b<=90)){c.previousConsonant=true;c.hidden=true}else{text=keychar.toString();c.previousConsonant=false;c.hidden=false}}c.prevkey=b;c.displace=d;c.text=text;return returnValue};this.keydownHandler=function(a,b){var c=D?v[E]:v[a],keyCode=y?b.keyCode:b.which,element;if(typeof c=='undefined'){return true}if(D){var d=b.target?b.target:b.srcElement;if((d.nodeName.toLowerCase()=="input"&&d.type.toLowerCase()=="text")||d.nodeName.toLowerCase()=="textarea"){element=d;c.isIFrame=false}else if(d.ownerDocument.designMode&&d.ownerDocument.designMode.toLowerCase()=="on"){c.isIFrame=true;element=d.ownerDocument}else{return true}if(c.elementObject!=element){c.elementObject=element;this.reset(c)}if(C[element._indicId]||C[element.id]){return true}}if((keyCode==46)&&z&&c.isIFrame){if(c.elementObject.contentWindow){element=c.elementObject.contentWindow}else if(c.elementObject.defaultView){element=c.elementObject.defaultView}var s=element.getSelection(),r=s.getRangeAt(0);if(element.document.body.childNodes.length==1&&r.startContainer.nodeValue&&r.startOffset==0){b.preventDefault();b.stopPropagation();return false}}else if(keyCode==A){if(c.language!='english'){c.isEng=!c.isEng}if(c.callbackName){c.callbackName(a,c.isEng?"english":c.language)}}else if((keyCode>=37&&keyCode<=40)||keyCode==46||keyCode==8||keyCode==13){this.reset(c)}return true};this.keypressHandler=function(a,b){var c=D?v[E]:v[a],returnValue=false;if(typeof c=='undefined'||c.isEng){return true}var d=c.elementObject;var e=0,s,r,text='',displace=0;if(b.altKey||b.ctrlKey){return true}e=y?b.keyCode:b.which;if((e<32)||(e>=127)){return true}if(D){var f=b.target?b.target:b.srcElement;if((f.nodeName.toLowerCase()=="input"&&f.type.toLowerCase()=="text")||f.nodeName.toLowerCase()=="textarea"){d=f;c.isIFrame=false}else if(f.ownerDocument.designMode&&f.ownerDocument.designMode.toLowerCase()=="on"){c.isIFrame=true;d=f.ownerDocument}else{return true}if(c.elementObject!=d){c.elementObject=d;this.reset(c)}if(C[d._indicId]||C[d.id]){return true}}if(c.isIFrame){d=(D&&d._indicId?v[d._indicId].elementObject:d);if(d.contentWindow){d=d.contentWindow}else if(d.defaultView){d=d.defaultView}}if(z&&(e==8||e==45)&&c.isIFrame){s=d.getSelection();r=s.getRangeAt(0);if(r.startContainer==d.document.body.firstChild&&r.startOffset==0){b.preventDefault();b.stopPropagation();return false}}returnValue=this.getNext(c,e);text=c.text;displace=c.displace;if(y){var g=d.document?d.document:d;r=g.selection.createRange();r.moveStart('character',displace);r.text=(r.text.charAt(r.text.length-1)==' '?text+' ':text);r.collapse(true);r.select();b.returnValue=returnValue;b.cancelBubble=true}else{if(c.isIFrame){var h,offset,s1="",s2="";s=d.getSelection();if(d.document){d=d.document}if(typeof(s)!='undefined'){r=s.getRangeAt(0)}else{r=d.createRange()}h=r.startContainer;offset=r.startOffset;if(h.nodeType==3){s1=h.nodeValue.substring(0,offset+displace);s2=h.nodeValue.substring(offset)}else{var i=d.createTextNode(text);if(h.childNodes.length>0&&h.childNodes[offset].nodeName=="BR"){h.insertBefore(i,h.childNodes[offset])}else{h.appendChild(i)}h=i;offset=0}h.nodeValue=(s1+text.toString()+s2.toString());r=d.createRange();var j=offset+displace+text.length;if(j<0){j=0}r.setStart(h,j);r.setEnd(h,j);s.removeAllRanges();s.addRange(r)}else{var k=d.selectionStart,st=d.scrollTop,sl=d.scrollLeft;if(typeof(text)!='undefined'&&(text.length!=0||displace!=0)){d.value=d.value.substring(0,d.selectionStart+displace)+text+d.value.substring(d.selectionEnd,d.value.length);k=k+text.length+displace;if(k<0){k=0}d.setSelectionRange(k,k);d.scrollTop=st;d.scrollLeft=sl}}if(!returnValue){b.preventDefault();b.stopPropagation()}}return returnValue};this.getEventObject=function(a,b){var c=v[a];if(y&&c.elementObject.contentWindow){return c.elementObject.contentWindow.event}else{return(window.event)?window.event:b}};var F=function(a){return v[a].elementObject};var G=function(b,c,d){if(!c.kblistener){c.kblistener=function(e){var a=(e.target?e.target:e.srcElement);a=(a._indicId?a._indicId:a.ownerDocument._indicId);e=c.getEventObject(a,e);return c.keypressHandler(a,e)}}if(!c.kbposition){c.kbposition=function(e){var a=(e.target?e.target:e.srcElement);a=(a._indicId?a._indicId:a.ownerDocument._indicId);e=c.getEventObject(a,e);return c.keydownHandler(a,e)}}var f=F(b);if(f.contentWindow){f=f.contentWindow.document}else if(f.contentDocument){f=f.contentDocument}if(!z){if(d){f.detachEvent("onkeypress",c.kblistener);f.detachEvent("onkeydown",c.kbposition)}else{f.attachEvent("onkeypress",c.kblistener);f.attachEvent("onkeydown",c.kbposition)}}else{if(d){f.removeEventListener("keypress",c.kblistener,true);f.removeEventListener("keydown",c.kbposition,true)}else{f.addEventListener("keypress",c.kblistener,true);f.addEventListener("keydown",c.kbposition,true)}}};this.convertToIndicIME=function(a,b,c,d){if(typeof d=='undefined'||d==null){d=true}if(!c){c='english'}if(!b){if(a){b=document.getElementById(a);if(y){var e=document.all[a];if(e){if(e.length){for(var i=0;i<e.length;i++){if(e[i].id==a){b=e[i];break}}}else{b=e}}else{b=null}}if(!b){throw"PramukhPhoneticHandler.convertToIndicIME(): ElementName is not valid";}}else{throw"PramukhPhoneticHandler.convertToIndicIME(): No value found for argument ElementName or ElementObject";}}if(!a){a='indicime_'+(v.length)}v[a]=new u();var f=v[a];f.language=c.toLowerCase();f.elementObject=b;f.isIFrame=b.contentWindow?true:false;if(f.isIFrame){b.contentWindow.document._indicId=a}else{b._indicId=a}this.setScript(a,c);if(d){G(a,this,false)}};this.convertPageToIndicIME=function(a,b,c,d){if(!a){a='english'}if(!c){c=""}if(typeof d=='undefined'||d==null){d=true}D=true;var e=c.split(","),i=0,str="";for(;i<e.length;i++){str=e[i];if(str!=""){C[str]=true}}this.convertToIndicIME(E,document,a,d);if(b){this.onScriptChange(E,b)}};this.convertToDefault=function(a){if(!a){return}G(a,this,true);delete v[a]};this.convertPageToDefault=function(){if(!D){return}D=false;G(E,this,true);delete v[E];for(var a in C){delete C[a]}}}; 

if(typeof __pph == 'undefined');
	var __pph = new PramukhPhoneticHandler();

if ( typeof (tinyMCE) != 'undefined' && typeof (tinymce) == 'undefined')
{
	tinyMCE.importPluginLanguagePack('indicime');var TinyMCE_IndicIMEPlugin={getScript:function(a){return __pph.getScript(a)},indicChange:function(a,b){tinyMCE._getElementById(a+"_indicime").value=b},initInstance:function(a){var b=this.__getCookie("indicime_"+a.editorId),lang='';lang=b!=null?b:'english';tinyMCE.addEvent(a.getDoc(),"keypress",function(e){__pph.keypressHandler(tinyMCE.selectedInstance.editorId,e)});tinyMCE.addEvent(a.getDoc(),"keydown",function(e){__pph.keydownHandler(tinyMCE.selectedInstance.editorId,e)});tinyMCE._getElementById(a.editorId+"_indicime").value=lang;__pph.convertToIndicIME(a.editorId,a.getWin().frameElement,lang,false);__pph.onScriptChange(a.editorId,TinyMCE_IndicIMEPlugin.indicChange)},execCommand:function(a,b,c,e,f){switch(c){case'mceIndicIMEScriptSelected':d=new Date();d.setMonth(d.getMonth()+1);this.__setCookie("indicime_"+a,f,d);__pph.setScript(a,f);return true;case'mceIndicIMEHelp':var g=new Array();g['file']=this.baseURL+'/indicimehelp2.htm?bu='+tinyMCE.baseURL;g['width']=590;g['height']=420;tinyMCE.openWindow(g,{lang:this.getScript(a)});return true}return false},getControlHTML:function(a){switch(a){case'indicime':var b=tinyMCE.getParam("indicime_scripts","defaultlist");var c='<select id="{$editor_id}_indicime" name="{$editor_id}_indic" onchange="tinyMCE.execInstanceCommand(\'{$editor_id}\',\'mceIndicIMEScriptSelected\',false,this.options[this.selectedIndex].value);" class="mceSelectList"><option value="">--Indic Script--</option>';if(b!=''&&b!="defaultlist"){var d=b.split(";");var i,len=d.length,val;for(i=0;i<len;i++){val=d[i].split(":");val[0]=val[0]||val[1];val[1]=val[1]||val[0];if(val[0]!=''&&val[1]!=''){c+="'<option value=\""+(typeof(val[1])!='undefined'?val[1]:val[0]).toLowerCase()+"\">"+val[0]+"</option>'"}}}else{c+='<option value="bengali">Bengali</option>'+'<option value="devanagari">Devanagari</option>'+'<option value="gujarati">Gujarati</option>'+'<option value="gurmukhi">Gurmukhi</option>'+'<option value="kannada">Kannada</option>'+'<option value="malayalam">Malayalam</option>'+'<option value="oriya">Oriya</option>'+'<option value="tamil">Tamil</option>'+'<option value="telugu">Telugu</option>'+'<option value="english">English (F12)</option>'}c+='</select>';return c;case'indicimehelp':return tinyMCE.getButtonHTML(a,'lang_indicime_help_tip','{$pluginurl}/img/indicimehelp.gif','mceIndicIMEHelp',true)}return""},getInfo:function(){return{longname:'IndicIME plugin',author:'Vishal Monpara',authorurl:'http://www.vishalon.net',infourl:'http://www.vishalon.net/IndicResources/IndicIME.aspx',version:"2.5.1"}},__getCookie:function(a){var b=document.cookie;var c=a+"=";var d=b.indexOf("; "+c);if(d==-1){d=b.indexOf(c);if(d!=0)return null}else d+=2;var e=document.cookie.indexOf(";",d);if(e==-1)e=b.length;return unescape(b.substring(d+c.length,e))},__setCookie:function(a,b,c,d,e,f){var g=a+"="+escape(b)+((c)?"; expires="+c.toGMTString():"");document.cookie=g}};tinyMCE.addPlugin('indicime',TinyMCE_IndicIMEPlugin); 	

}else if (typeof (tinymce) != 'undefined')
{
	var tmIndicChange = function(ElementID, language)
	{
		if(tinyMCE.activeEditor)
			tinyMCE.activeEditor.controlManager.get('indicime').select(language);
	}

	var myfunc = function(){var g;var h;tinymce.create('tinymce.plugins.IndicIMEPlugin',{init:function(c,f){g=tinymce.util.Cookie.get("indicime_"+c.id);g=(!g?'english':g);h=c.getParam("indicime_scripts","defaultlist");c.onPreInit.add(function(b,e){b.onKeyPress.add(function(a,e){__pph.keypressHandler(a.id,e)});b.onKeyDown.add(function(a,e){__pph.keydownHandler(a.id,e)})});c.onPostRender.add(function(a,b){__pph.convertToIndicIME(a.id,a.getWin().frameElement,(!g?'english':g),false);__pph.onScriptChange(a.id,tmIndicChange);tinyMCE.activeEditor.controlManager.get('indicime').select(g)});c.addCommand('mceIndicIMEHelp',function(){c.windowManager.open({file:f+'/indicimehelp3.htm?bu='+tinymce.baseURL,width:590+parseInt(c.getLang('indicime.delta_width',0)),height:420+parseInt(c.getLang('indicime.delta_height',0)),inline:1},{plugin_url:f,lang:__pph.getScript(c.id)})});c.addCommand('mceIndicIME',function(u,v){d=new Date();d.setMonth(d.getMonth()+1);tinymce.util.Cookie.set("indicime_"+c.id,v,d);__pph.setScript(c.id,v)});c.addButton('indicimehelp',{title:'IndicIME Typing Help',cmd:'mceIndicIMEHelp',image:f+'/img/indicimehelp.gif'})},createControl:function(n,a){switch(n){case'indicime':var t=this,ed=t.editor;var b=a.createListBox('indicime',{title:'Indic Script',cmd:'mceIndicIME'});if(h!=''&&h!="defaultlist"){var c=h.split(";");var i,len=c.length,val;for(i=0;i<len;i++){val=c[i].split(":");val[0]=val[0]||val[1];val[1]=val[1]||val[0];if(val[0]!=''&&val[1]!='')b.add(val[0],(val[1]).toLowerCase())}}else{b.add('Bengali','bengali');b.add('Devanagari','devanagari');b.add('Gujarati','gujarati');b.add('Gurmukhi','gurmukhi');b.add('Kannada','kannada');b.add('Malayalam','malayalam');b.add('Oriya','oriya');b.add('Tamil','tamil');b.add('Telugu','telugu');b.add('English (F12)','english')}return b}return null},getInfo:function(){return{longname:'IndicIME plugin',author:'Vishal Monpara',authorurl:'http://www.vishalon.net',infourl:'http://www.vishalon.net/IndicResources/IndicIME.aspx',version:"2.5.1"}}});tinymce.PluginManager.add('indicime',tinymce.plugins.IndicIMEPlugin)};
	myfunc();
}
